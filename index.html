<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>История моей семьи - Создайте свое генеалогическое древо</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Шапка для лендинга -->
    <header id="landing-header">
        <div class="header-container container">
            <a href="index.html" class="logo">
                <i class="fas fa-tree"></i>
                История моей семьи
            </a>
            
            <nav>
                <ul class="nav-links">
                    <li><a href="index.html#features">Возможности</a></li>
                    <li><a href="index.html#about">О проекте</a></li>
                    <li><a href="auth.html">Войти</a></li>
                </ul>
                <button class="mobile-menu-btn" id="landing-mobile-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
            
            <a href="auth.html?mode=register" class="btn" id="landing-register-btn">
                Начать бесплатно
            </a>
        </div>
    </header>

    <!-- Лендинг страница -->
    <section id="landing-page">
        <div class="landing-hero">
            <div class="container">
                <h1>Сохраните историю вашей семьи для будущих поколений</h1>
                <p>Создайте цифровое генеалогическое древо, храните фотографии, делитесь историями и сохраняйте семейные традиции в одном безопасном месте.</p>
                <div class="hero-buttons">
                    <a href="auth.html?mode=register" class="btn" id="start-free-btn">
                        <i class="fas fa-play-circle"></i> Начать бесплатно
                    </a>
                    <button class="btn btn-outline" id="watch-demo-btn">
                        <i class="fas fa-video"></i> Посмотреть демо
                    </button>
                </div>
            </div>
        </div>
        
        <div id="features" class="landing-features">
            <div class="container">
                <h2 style="text-align: center; margin-bottom: 50px;">Возможности платформы</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-sitemap"></i>
                        </div>
                        <h3>Интерактивное древо</h3>
                        <p>Создавайте, редактируйте и визуализируйте ваше генеалогическое древо с фотографиями и биографиями.</p>
                        <button class="btn btn-small feature-demo-btn" data-feature="tree">
                            Демо
                        </button>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-images"></i>
                        </div>
                        <h3>Семейный архив</h3>
                        <p>Храните фотографии, документы и видео в одном защищенном месте с возможностью подписей и датирования.</p>
                        <button class="btn btn-small feature-demo-btn" data-feature="media">
                            Демо
                        </button>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h3>Лента событий</h3>
                        <p>Отмечайте важные даты, дни рождения и семейные праздники с напоминаниями и историями.</p>
                        <button class="btn btn-small feature-demo-btn" data-feature="timeline">
                            Демо
                        </button>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-user-friends"></i>
                        </div>
                        <h3>Совместный доступ</h3>
                        <p>Приглашайте родственников для совместного наполнения древа и общения в семейном чате.</p>
                        <button class="btn btn-small feature-demo-btn" data-feature="chat">
                            Демо
                        </button>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-print"></i>
                        </div>
                        <h3>Печать и экспорт</h3>
                        <p>Распечатывайте красивые версии вашего древа или сохраняйте в различных форматах для архива.</p>
                        <button class="btn btn-small feature-demo-btn" data-feature="print">
                            Демо
                        </button>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <h3>Умные уведомления</h3>
                        <p>Получайте напоминания о предстоящих событиях и днях рождения родственников.</p>
                        <button class="btn btn-small feature-demo-btn" data-feature="notifications">
                            Демо
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Секция "О проекте" -->
        <div id="about" class="about-section">
            <div class="container">
                <div class="about-content">
                    <h2>О проекте "История моей семьи"</h2>
                    <p>Наш проект создан для того, чтобы помочь семьям сохранить свою историю, традиции и воспоминания для будущих поколений.</p>
                    <p>Мы верим, что каждая семья уникальна, и ее история заслуживает того, чтобы быть сохраненной в цифровом формате.</p>
                    <p>С помощью нашей платформы вы можете:</p>
                    <ul style="text-align: left; margin: 20px 0; color: #4a5568;">
                        <li>Создать интерактивное генеалогическое древо</li>
                        <li>Хранить семейные фотографии и документы</li>
                        <li>Отмечать важные даты и события</li>
                        <li>Приглашать родственников для совместной работы</li>
                        <li>Сохранять истории и воспоминания</li>
                    </ul>
                    <p>Присоединяйтесь к тысячам семей, которые уже сохраняют свою историю с нами!</p>
                    <a href="index.html#features" class="btn">
                        <i class="fas fa-arrow-left"></i> Вернуться к возможностям
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Подвал -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-section">
                    <h3>История моей семьи</h3>
                    <p>Сохраняйте ваше семейное наследие для будущих поколений. Создавайте цифровое генеалогическое древо и делитесь воспоминаниями.</p>
                </div>
                
                <div class="footer-section">
                    <h3>Навигация</h3>
                    <ul class="footer-links">
                        <li><a href="index.html#features">Возможности</a></li>
                        <li><a href="index.html#about">О проекте</a></li>
                        <li><a href="auth.html">Вход / Регистрация</a></li>
                        <li><a href="#" onclick="showContactModal()">Контакты</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Правовая информация</h3>
                    <ul class="footer-links">
                        <li><a href="#" onclick="showTermsModal()">Пользовательское соглашение</a></li>
                        <li><a href="#" onclick="showPrivacyModal()">Политика конфиденциальности</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Контакты</h3>
                    <ul class="footer-links">
                        <li><a href="mailto:support@family-history.ru">support@family-history.ru</a></li>
                        <li><a href="tel:+79999999999">+7 (999) 999-99-99</a></li>
                        <li><a href="#" onclick="showContactModal()">Техническая поддержка</a></li>
                    </ul>
                    <div class="social-links" style="margin-top: 15px;">
                        <a href="#" style="color: white; margin-right: 15px; font-size: 1.2rem;"><i class="fab fa-vk"></i></a>
                        <a href="#" style="color: white; margin-right: 15px; font-size: 1.2rem;"><i class="fab fa-telegram"></i></a>
                        <a href="#" style="color: white; font-size: 1.2rem;"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p>© 2024 История моей семьи. Все права защищены.</p>
                <p>Разработано с ❤️ для сохранения семейных ценностей</p>
            </div>
        </div>
    </footer>

    <!-- Модальные окна -->
    <div class="modal-overlay hidden" id="modal-overlay"></div>
    
    <!-- Модальное окно приглашения -->
    <div id="invite-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Пригласить родственника</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="invite-form-modal">
                    <div class="form-group">
                        <label for="invite-email">Email родственника *</label>
                        <input type="email" id="invite-email" placeholder="email@example.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="invite-name">Имя родственника</label>
                        <input type="text" id="invite-name" placeholder="Имя">
                    </div>
                    
                    <div class="form-group">
                        <label for="invite-message">Сообщение</label>
                        <textarea id="invite-message" rows="4" placeholder="Привет! Присоединяйся к нашему семейному древу..."></textarea>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="invite-editor" checked>
                        <label for="invite-editor">Разрешить редактирование древа</label>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary cancel-btn">
                            Отмена
                        </button>
                        <button type="submit" class="btn">
                            Отправить приглашение
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно редактирования профиля -->
    <div id="edit-profile-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Редактировать профиль</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="edit-profile-form-modal">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-profile-name">Имя *</label>
                            <input type="text" id="edit-profile-name" placeholder="Имя" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-profile-last-name">Фамилия</label>
                            <input type="text" id="edit-profile-last-name" placeholder="Фамилия">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-profile-email">Email *</label>
                        <input type="email" id="edit-profile-email" placeholder="email@example.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-profile-bio">О себе</label>
                        <textarea id="edit-profile-bio" rows="4" placeholder="Расскажите о себе..."></textarea>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary cancel-btn">
                            Отмена
                        </button>
                        <button type="submit" class="btn">
                            Сохранить изменения
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Чат-виджет -->
    <div class="chat-widget" id="chat-widget">
        <div class="chat-header">
            <div>
                <h3 style="margin: 0; font-size: 1rem;">Семейный чат</h3>
                <small id="online-count">0 онлайн</small>
            </div>
            <button class="btn btn-small" id="chat-minimize" style="background: transparent; padding: 0; min-width: auto;">
                <i class="fas fa-minus"></i>
            </button>
        </div>
        <div class="chat-messages" id="chat-messages">
            <!-- Сообщения будут загружены здесь -->
        </div>
        <div class="chat-input">
            <div style="display: flex; gap: 10px;">
                <input type="text" id="chat-input" placeholder="Введите сообщение..." style="flex: 1;">
                <button class="btn btn-small" id="chat-send">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Уведомления -->
    <div id="notification" class="notification">
        <div class="notification-content">
            <span id="notification-text"></span>
            <button class="notification-close">&times;</button>
        </div>
    </div>

    <!-- Загрузчик -->
    <div id="loader" class="loader-overlay hidden">
        <div class="loader"></div>
        <div class="loader-text" id="loader-text">Загрузка...</div>
    </div>

    <!-- Подключаем библиотеки -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    
    <!-- Подключаем наши файлы -->
    <script src="supabase.js"></script>
    <script src="app.js"></script>
    
<!-- ... предыдущий HTML код ... -->

<script>
    // Простые функции для навигации лендинга
    function showContactModal() {
        const modalHtml = `
            <div class="modal show">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Контакты</h3>
                        <button class="modal-close">&times;</button>
                    </div>
                    <div class="modal-body">
                        <p><strong>Email:</strong> support@family-history.ru</p>
                        <p><strong>Телефон:</strong> +7 (999) 999-99-99</p>
                        <p><strong>Техническая поддержка:</strong> круглосуточно</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary cancel-btn">
                            Закрыть
                        </button>
                    </div>
                </div>
            </div>
        `;
        
        const overlay = document.getElementById('modal-overlay');
        if (overlay) {
            overlay.innerHTML = modalHtml;
            overlay.classList.add('show');
            
            // Закрытие
            document.querySelector('.modal-close')?.addEventListener('click', () => {
                overlay.classList.remove('show');
            });
            
            document.querySelector('.cancel-btn')?.addEventListener('click', () => {
                overlay.classList.remove('show');
            });
        }
    }
    
    function showTermsModal() {
        const modalHtml = `
            <div class="modal show">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Пользовательское соглашение</h3>
                        <button class="modal-close">&times;</button>
                    </div>
                    <div class="modal-body">
                        <p>Здесь будет текст пользовательского соглашения...</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary cancel-btn">
                            Закрыть
                        </button>
                    </div>
                </div>
            </div>
        `;
        
        const overlay = document.getElementById('modal-overlay');
        if (overlay) {
            overlay.innerHTML = modalHtml;
            overlay.classList.add('show');
            
            // Закрытие
            document.querySelector('.modal-close')?.addEventListener('click', () => {
                overlay.classList.remove('show');
            });
            
            document.querySelector('.cancel-btn')?.addEventListener('click', () => {
                overlay.classList.remove('show');
            });
        }
    }
    
    function showPrivacyModal() {
        const modalHtml = `
            <div class="modal show">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Политика конфиденциальности</h3>
                        <button class="modal-close">&times;</button>
                    </div>
                    <div class="modal-body">
                        <p>Здесь будет текст политики конфиденциальности...</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary cancel-btn">
                            Закрыть
                        </button>
                    </div>
                </div>
            </div>
        `;
        
        const overlay = document.getElementById('modal-overlay');
        if (overlay) {
            overlay.innerHTML = modalHtml;
            overlay.classList.add('show');
            
            // Закрытие
            document.querySelector('.modal-close')?.addEventListener('click', () => {
                overlay.classList.remove('show');
            });
            
            document.querySelector('.cancel-btn')?.addEventListener('click', () => {
                overlay.classList.remove('show');
            });
        }
    }
    
    // Мобильное меню для лендинга
    document.getElementById('landing-mobile-btn')?.addEventListener('click', function() {
        document.querySelector('#landing-header .nav-links').classList.toggle('active');
    });
    
    // Демо кнопки функций
    document.querySelectorAll('.feature-demo-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
            const feature = e.target.dataset.feature || e.target.closest('.feature-demo-btn').dataset.feature;
            
            const messages = {
                'tree': 'Демо построения генеалогического древа',
                'media': 'Демо загрузки семейных фотографий',
                'timeline': 'Демо ленты семейных событий',
                'chat': 'Демо семейного чата',
                'print': 'Демо печати генеалогического древа',
                'notifications': 'Демо умных уведомлений'
            };
            
            const message = messages[feature] || 'Демо функции';
            
            // Используем функцию showNotification из app.js
            if (window.showNotification) {
                window.showNotification(message + '. Для тестирования зарегистрируйтесь.', 'info');
            } else {
                alert(message + '. Для тестирования зарегистрируйтесь.');
            }
        });
    });
    
    // Кнопка демо
    document.getElementById('watch-demo-btn')?.addEventListener('click', () => {
        if (window.showNotification) {
            window.showNotification('Запуск демо-режима... Для тестирования зарегистрируйтесь или войдите в аккаунт.', 'info');
        } else {
            alert('Запуск демо-режима... Для тестирования зарегистрируйтесь или войдите в аккаунт.');
        }
    });
    
    // Закрытие модальных окон по клику на оверлей
    document.getElementById('modal-overlay')?.addEventListener('click', (e) => {
        if (e.target.id === 'modal-overlay') {
            e.target.classList.remove('show');
        }
    });
    
    // Закрытие по ESC
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            document.getElementById('modal-overlay')?.classList.remove('show');
        }
    });
</script>
</body>
</html>