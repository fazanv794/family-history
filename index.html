<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мое Приложение</title>
</head>
<body>
    <div class="container">
        <h1>Мое Приложение</h1>
        
        <div id="authStatus">
            <p>Статус: <span id="statusText">Проверка...</span></p>
            <p>Email: <span id="userEmail"></span></p>
        </div>
        
        <div>
            <button id="loginBtn" style="display: none;">Войти</button>
            <button id="logoutBtn" style="display: none;">Выйти</button>
            <button id="checkStatusBtn">Проверить статус</button>
        </div>
        
        <!-- Форма входа (опционально) -->
        <form id="loginForm" style="margin-top: 20px; display: none;">
            <input type="email" name="email" placeholder="Email" required>
            <input type="password" name="password" placeholder="Пароль" required>
            <button type="submit">Войти</button>
        </form>
    </div>
    
    <!-- Лоадер (добавьте стили) -->
    <div id="loader" style="display: none;">
        <div>Загрузка...</div>
    </div>
    
    <!-- Уведомления (добавьте стили) -->
    <div id="notification" style="display: none;"></div>

    <!-- 1. Сначала библиотека Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
    
    <!-- 2. Наш supabase.js -->
    <script src="supabase.js"></script>
    
    <!-- 3. Наш app.js -->
    <script src="app.js"></script>
    
    <script>
        // Дополнительная проверка
        document.getElementById('checkStatusBtn').onclick = async function() {
            const status = await checkAuthStatus();
            alert(status ? 'Авторизован как ' + status.email : 'Не авторизован');
        };
    </script>
</body>
</html>